
{% set themeColors = networkData['styling']['colours'] %}
{% set primaryFont = networkData['styling']['fonts']['primaryFont'] | preg_replace('/:[0-9]+$/','' ) %}
{% set secFont     = networkData['styling']['fonts']['secondaryFont'] | preg_replace('/:[0-9]+$/','' ) %}
{% set customCss   = networkData['styling']['customStyleSheet'] %}

{% if primaryFont != "" %}
    <link href="https://fonts.googleapis.com/css?family={{primaryFont}}:300,400,500,700" rel="stylesheet"> 
    <style type="text/css">
        :root {
            --main-font: "{{primaryFont| replace({'+': ' '}) }}", Helvetica, Arial, sans-serif;
        }
    </style>
{% else %}
    <style type="text/css">
        :root {
            --main-font: "nimbus-sans", Helvetica, Arial, sans-serif;
        }
    </style>
{% endif %}
{% if secFont != "" %}
    <link href="https://fonts.googleapis.com/css?family={{secFont}}:300,400,500,700" rel="stylesheet"> 
    <style type="text/css">
        :root {
            --sec-font: "{{secFont| replace({'+': ' '}) }}", "Times New Roman", Times, serif;
        }
    </style>
{% else %}
    <style type="text/css">
        :root {
            --sec-font: "baskerville-display-pt", "Times New Roman", Times, serif;
        }
    </style>
{% endif %}

{% if themeColors.headingColor != "" %} 
    <script type="text/javascript">
        function hexToHSL(o){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(o);r=parseInt(e[1],16),g=parseInt(e[2],16),b=parseInt(e[3],16),r/=255,g/=255,b/=255;var a,l,n=Math.max(r,g,b),s=Math.min(r,g,b),t=(n+s)/2;if(n==s)a=l=0;else{var i=n-s;switch(l=t>.5?i/(2-n-s):i/(n+s),n){case r:a=(g-b)/i+(g<b?6:0);break;case g:a=(b-r)/i+2;break;case b:a=(r-g)/i+4}a/=6}var c=new Object;return c.h=a,c.s=l,c.l=t,c}var mainColor=hexToHSL("{{themeColors.headingColor}}");document.write("<style id='user-colors' type='text/css'>:root {--main-color:{{themeColors.headingColor}};--main-color-h:"+360*mainColor.h+";--main-color-s:"+100*mainColor.s+"%;--main-color-l:"+100*mainColor.l+"%;}</style>");
    </script>

    {# function hexToHSL(hex) {
            var result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
            r = parseInt(result[1], 16);
            g = parseInt(result[2], 16);
            b = parseInt(result[3], 16);
            r /= 255, g /= 255, b /= 255;
            var max = Math.max(r, g, b), min = Math.min(r, g, b);
            var h, s, l = (max + min) / 2;
            if(max == min){
                h = s = 0; // achromatic
            }else{
                var d = max - min;
                s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
                switch(max){
                case r: h = (g - b) / d + (g < b ? 6 : 0); break;
                case g: h = (b - r) / d + 2; break;
                case b: h = (r - g) / d + 4; break;
                }
                h /= 6;
            }
            var HSL = new Object();
            HSL['h']=h;
            HSL['s']=s;
            HSL['l']=l;
            return HSL;
        }
        var mainColor = hexToHSL("{{themeColors.headingColor}}");
        document.write("<style id='user-colors' type='text/css'>:root {--main-color:{{themeColors.headingColor}};--main-color-h:"+(mainColor['h']*360)+";--main-color-s:"+(mainColor['s']*100)+"%;--main-color-l:"+(mainColor['l']*100)+"%;}</style>"); #}
{% endif %}

<style type="text/css">
    
    {% if customCss != "" %}
        {{customCss | raw }}
    {% endif %} 

</style>